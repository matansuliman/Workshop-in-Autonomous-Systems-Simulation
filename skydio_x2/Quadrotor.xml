<mujoco model="Skydio X2">
    <compiler autolimits="true" assetdir="assets"/>

  <option timestep="0.005" integrator="implicit" density="1.225" viscosity="1.8e-5" wind="0 0 0"/>

  <default>
    <default class="x2">
      <geom mass="0"/>
      <motor ctrlrange="0 13"/>
      <mesh scale="0.01 0.01 0.01"/>
      <default class="visual">
        <geom group="2" type="mesh" contype="0" conaffinity="0"/>
      </default>
      <default class="collision">
        <geom group="3" type="box"/>
        <default class="rotor">
          <geom type="ellipsoid" size=".13 .13 .01"/>
        </default>
      </default>
      <site group="5"/>
    </default>
  </default>

  <asset>
    <texture type="2d" file="X2_lowpoly_texture_SpinningProps_1024.png"/>
    <material name="phong3SG" texture="X2_lowpoly_texture_SpinningProps_1024"/>
    <material name="invisible" rgba="0 0 0 0"/>
    <mesh class="x2" file="X2_lowpoly.obj"/>
  </asset>

  <worldbody>
    <light name="spotlight" mode="targetbodycom" target="Quadrotor" pos="0 -1 2"/>

    <body name="Quadrotor" pos="0 0 10" childclass="x2">
      <freejoint/>
      <camera name="track" pos="0 0 5" mode="trackcom"/>
      <camera name="bottom_cam" pos="0 0 -0.05" mode="trackcom"/>

      <geom material="phong3SG" mesh="X2_lowpoly" class="visual" quat="0 0 1 1"/>

      <geom class="collision" size=".06 .027 .02" pos=".04 0 .02" friction="2.0 1.0 0.05" margin="0.01" solref="0.002 1.0" solimp="0.90 0.95 0.002" rgba="1 0 0 0.5"/>
      <geom class="collision" size=".06 .027 .02" pos=".04 0 .06" friction="2.0 1.0 0.05" margin="0.01" solref="0.002 1.0" solimp="0.90 0.95 0.002" rgba="1 0 0 0.5"/>
      <geom class="collision" size=".05 .027 .02" pos="-.07 0 .065" friction="2.0 1.0 0.05" margin="0.01" solref="0.002 1.0" solimp="0.90 0.95 0.002" rgba="1 0 0 0.5"/>
      <geom class="collision" size=".023 .017 .01" pos="-.137 .008 .065" friction="2.0 1.0 0.05" margin="0.01" solref="0.002 1.0" solimp="0.90 0.95 0.002" rgba="1 0 0 0.5"/>

      <geom name="rotor1" class="rotor" pos="-.14 -.18 .08" mass=".25"/>
      <geom name="rotor2" class="rotor" pos="-.14 .18 .08" mass=".25"/>
      <geom name="rotor3" class="rotor" pos=".14 .18 .08" mass=".25"/>
      <geom name="rotor4" class="rotor" pos=".14 -.18 .08" mass=".25"/>
      <geom size=".16 .04 .02" pos="0 0 0.02" type="ellipsoid" mass=".325" class="visual" material="invisible"/>

      <site name="thrust1" pos="-.14 -.18 .08"/>
      <site name="thrust2" pos="-.14 .18 .08"/>
      <site name="thrust3" pos=".14 .18 .08"/>
      <site name="thrust4" pos=".14 -.18 .08"/>

      <site name="Quadrotor_site_gps" pos="0 0 0.03" size="0.002"/>
      <site name="Quadrotor_site_imu"        pos="0 0 0.02"/>
      <site name="Quadrotor_site_rangefinder" pos="0 0 0" quat="0 1 0 0" size="0.002" rgba="1 1 1 0"/>
    </body>
  </worldbody>

  <actuator>
    <motor name="thrust1" site="thrust1" gear="0 0 1  1  1  1" ctrllimited="true" ctrlrange="0 4"/>
    <motor name="thrust2" site="thrust2" gear="0 0 1 -1  1 -1" ctrllimited="true" ctrlrange="0 4"/>
    <motor name="thrust3" site="thrust3" gear="0 0 1 -1 -1  1" ctrllimited="true" ctrlrange="0 4"/>
    <motor name="thrust4" site="thrust4" gear="0 0 1  1 -1 -1" ctrllimited="true" ctrlrange="0 4"/>
  </actuator>

  <sensor>
    <framepos      name="Quadrotor_framepos"    objtype="site" objname="Quadrotor_site_gps"/>
    <velocimeter   name="Quadrotor_velocimeter" site="Quadrotor_site_gps"/>
  </sensor>

  <sensor>
    <framequat     name="Quadrotor_framequat"     objtype="site" objname="Quadrotor_site_imu"/>
    <gyro          name="Quadrotor_gyro"          site="Quadrotor_site_imu"/>
    <accelerometer name="Quadrotor_accelerometer" site="Quadrotor_site_imu"/>
  </sensor>

  <sensor>
    <rangefinder name="Quadrotor_rangefinder" site="Quadrotor_site_rangefinder"/>
  </sensor>

</mujoco>
